(self.webpackChunk=self.webpackChunk||[]).push([[8392],{4510:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var c=r(n(4938)),o=n(5893),a=(0,c.default)((0,o.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.Z=a},7036:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var c=r(n(4938)),o=n(5893),a=(0,c.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=a},2675:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var c=r(n(4938)),o=n(5893),a=(0,c.default)((0,o.jsx)("path",{d:"M20 3H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h6v2H8v2h8v-2h-2v-2h6c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"DesktopWindows");t.Z=a},8508:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var c=r(n(4938)),o=n(5893),a=(0,c.default)((0,o.jsx)("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"}),"Extension");t.Z=a},4048:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var c=r(n(4938)),o=n(5893),a=(0,c.default)((0,o.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");t.Z=a},5731:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var c=r(n(4938)),o=n(5893),a=(0,c.default)((0,o.jsx)("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1zm-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5-4H7V4h9v14z"}),"PhoneIphone");t.Z=a},4938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(3875)},3875:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return c.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return a.Z},debounce:function(){return i.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return l.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return m},setRef:function(){return b},unstable_ClassNameGenerator:function(){return _},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return h},unsupportedProp:function(){return f},useControlled:function(){return v.Z},useEventCallback:function(){return E.Z},useForkRef:function(){return w.Z},useIsFocusVisible:function(){return y.Z}});var r=n(7078),c=n(8216),o=n(9064).Z,a=n(8169),i=n(7144);var s=function(e,t){return()=>null},l=n(1579),u=n(8038),d=n(5340);var m=function(e,t){return()=>null},b=n(7960).Z,p=n(8974),h=n(7579).Z;var f=function(e,t,n,r,c){return null},v=n(2627),E=n(2068),w=n(1705),y=n(8791);const _={configure:e=>{r.Z.configure(e)}}},2627:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(7294);var c=function({controlled:e,default:t,name:n,state:c="value"}){const{current:o}=r.useRef(void 0!==e),[a,i]=r.useState(t);return[o?e:a,r.useCallback((e=>{o||i(e)}),[])]}},9064:function(e,t,n){"use strict";function r(...e){return e.reduce(((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)}),(()=>{}))}n.d(t,{Z:function(){return r}})},7579:function(e,t,n){"use strict";var r;n.d(t,{Z:function(){return i}});var c=n(7294);let o=0;const a=(r||(r=n.t(c,2)))["useId".toString()];function i(e){if(void 0!==a){const t=a();return null!=e?e:t}return function(e){const[t,n]=c.useState(e),r=e||t;return c.useEffect((()=>{null==t&&(o+=1,n(`mui-${o}`))}),[t]),r}(e)}},1262:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),c=n(2389);function o(e){var t=e.children,n=e.fallback;return(0,c.Z)()?r.createElement(r.Fragment,null,null==t?void 0:t()):null!=n?n:null}},8047:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7294),c=n(2675),o=n(5731),a=n(7036),i=n(4510),s=n(8508),l=n(412),u=n(1262);function d(e){e.children;var t=e.data,n=(0,r.useState)({}),d=n[0],m=n[1];return l.Z.canUseDOM&&fetch("/browser-compat-data/"+t).then((function(e){return e.json()})).then((function(e){m(e.api)})),r.createElement(u.Z,null,(function(){return r.createElement("div",{className:"browser-compat"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",{class:"bc-platforms"},r.createElement("td",null),r.createElement("th",{class:"bc-platform bc-platform-desktop",colspan:"6",title:"desktop"},r.createElement(c.Z,null),r.createElement("span",{class:"visually-hidden"},"desktop")),r.createElement("th",{class:"bc-platform bc-platform-mobile",colspan:"7",title:"mobile"},r.createElement(o.Z,null),r.createElement("span",{class:"visually-hidden"},"mobile"))),r.createElement("tr",{class:"bc-browsers"},r.createElement("td",null),r.createElement("th",{class:"bc-browser bc-browser-chrome"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-chrome"},"Chrome"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-chrome"})),r.createElement("th",{class:"bc-browser bc-browser-edge"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-edge"},"Edge"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-edge"})),r.createElement("th",{class:"bc-browser bc-browser-firefox"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-firefox"},"Firefox"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-simple-firefox"})),r.createElement("th",{class:"bc-browser bc-browser-ie"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-ie"},"Internet Explorer"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-ie"})),r.createElement("th",{class:"bc-browser bc-browser-opera"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-opera"},"Opera"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-opera"})),r.createElement("th",{class:"bc-browser bc-browser-safari"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-safari"},"Safari"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-safari"})),r.createElement("th",{class:"bc-browser bc-browser-webview_android"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-webview_android"},"WebView Android"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-webview"})),r.createElement("th",{class:"bc-browser bc-browser-chrome_android"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-chrome_android"},"Chrome Android"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-chrome"})),r.createElement("th",{class:"bc-browser bc-browser-firefox_android"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-firefox_android"},"Firefox for Android"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-simple-firefox"})),r.createElement("th",{class:"bc-browser bc-browser-opera_android"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-opera_android"},"Opera Android"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-opera"})),r.createElement("th",{class:"bc-browser bc-browser-safari_ios"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-safari_ios"},"Safari on iOS"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-safari"})),r.createElement("th",{class:"bc-browser bc-browser-samsunginternet_android"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-samsunginternet_android"},"Samsung Internet"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-samsunginternet"})),r.createElement("th",{class:"bc-browser bc-browser-puma_browser"},r.createElement("div",{class:"bc-head-txt-label bc-head-icon-puma_browser"},"Puma Browser"),r.createElement("div",{class:"bc-head-icon-symbol icon icon-puma"})))),r.createElement("tbody",null,Object.keys(d).map((function(e){return r.createElement("tr",null,r.createElement("th",{class:"bc-feature bc-feature-depth-0",scope:"row"},r.createElement("div",{class:"bc-table-row-header"},r.createElement("code",null,e))),Object.keys(d[e].__compat.support).map((function(t){if("status"!==t)return r.createElement("td",{class:"bc-support bc-browser-chrome bc-supports-yes bc-has-history","aria-expanded":"false"},r.createElement("span",{class:"icon-wrap"},d[e].__compat.support[t].version_added&&r.createElement(a.Z,{fontSize:"inherit",htmlColor:"green"}),!d[e].__compat.support[t].version_added&&r.createElement(i.Z,{fontSize:"inherit",htmlColor:"red"})),r.createElement("span",{class:"bc-version-label"},!0===d[e].__compat.support[t].version_added&&"Yes",!1===d[e].__compat.support[t].version_added&&"No",!1!==d[e].__compat.support[t].version_added&&!0!==d[e].__compat.support[t].version_added&&d[e].__compat.support[t].version_added),r.createElement("span",{class:"bc-icons"},d[e].__compat.support[t].notes&&r.createElement(s.Z,{fontSize:"inherit",htmlColor:"green"})))})))})))),r.createElement("span",{class:"bc-notes"},r.createElement(a.Z,{fontSize:"inherit",htmlColor:"green"})," Full Support."),r.createElement("span",{class:"bc-notes"},r.createElement(i.Z,{fontSize:"inherit",htmlColor:"red"})," No Support."),r.createElement("span",{class:"bc-notes"},r.createElement(s.Z,{fontSize:"inherit",htmlColor:"green"})," You'll need to use a Web Monetization Extension."))}))}},9625:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7294),c=n(4048),o=n(1262);function a(e){var t=e.children,n=e.link;return r.createElement(o.Z,null,(function(){return r.createElement("div",{className:"specifications"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Specification"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("a",{href:location.protocol+"//"+location.host+"/specification#"+n,className:"external",target:"_blank",rel:"noopener noreferrer"},t,r.createElement(c.Z,{color:"disabled",fontSize:"inherit"}),r.createElement("br",null),r.createElement("span",null,n&&"#"+n)))))))}))}},2737:function(e,t,n){"use strict";n.r(t),n.d(t,{assets:function(){return m},contentTitle:function(){return u},default:function(){return f},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return b}});var r=n(7462),c=n(3366),o=(n(7294),n(3905)),a=n(9625),i=n(8047),s=["components"],l={id:"monetization-src",title:"CSP: monetization-src",sidebar_label:"monetization-src"},u=void 0,d={unversionedId:"monetization-src",id:"monetization-src",title:"CSP: monetization-src",description:"The Content-Security-Policy (CSP) monetization-src directive restricts the list of URLs from which a payment endpoint is loaded.",source:"@site/docs/monetization-src.md",sourceDirName:".",slug:"/monetization-src",permalink:"/docs/monetization-src",draft:!1,editUrl:"https://github.com/WICG/webmonetization/tree/main/docs/monetization-src.md",tags:[],version:"current",frontMatter:{id:"monetization-src",title:"CSP: monetization-src",sidebar_label:"monetization-src"},sidebar:"docs",previous:{title:"Content-Security-Policy",permalink:"/docs/csp"},next:{title:"Permissions-Policy",permalink:"/docs/permission-policy"}},m={},b=[{value:"Syntax",id:"syntax",level:2},{value:"Sources",id:"sources",level:3},{value:"Examples",id:"examples",level:2},{value:"Violation cases",id:"violation-cases",level:3},{value:"Specifications",id:"specifications",level:2},{value:"Browser compatibility",id:"browser-compatibility",level:2}],p={toc:b},h="wrapper";function f(e){var t=e.components,n=(0,c.Z)(e,s);return(0,o.kt)(h,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy"},"Content-Security-Policy")," (CSP) ",(0,o.kt)("inlineCode",{parentName:"p"},"monetization-src")," directive restricts the list of URLs from which a payment endpoint is loaded. "),(0,o.kt)("h2",{id:"syntax"},"Syntax"),(0,o.kt)("p",null,"One or more sources may be allowed for the ",(0,o.kt)("inlineCode",{parentName:"p"},"monetization-src")," policy:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},"Content-Security-Policy: monetization-src <source>;\nContent-Security-Policy: monetization-srce <source>, <source>;\n")),(0,o.kt)("h3",{id:"sources"},"Sources"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"<source>")," can be any one of the values listed in ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/Sources#sources"},"CSP Source Values"),"."),(0,o.kt)("h2",{id:"examples"},"Examples"),(0,o.kt)("h3",{id:"violation-cases"},"Violation cases"),(0,o.kt)("p",null,"Given this CSP header: "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},"Content-Security-Policy: monetization-src https://www.example.com\n")),(0,o.kt)("p",null,"The following monetization source will not load, as the url doesn't match the one defined in the Content-Security-Policy: "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<link rel="monetization" href="https://example.org/payment-pointer">\n')),(0,o.kt)("h2",{id:"specifications"},"Specifications"),(0,o.kt)(a.Z,{link:"monetization-src-directive",mdxType:"Specifications"},"Web Monetization API"),(0,o.kt)("h2",{id:"browser-compatibility"},"Browser compatibility"),(0,o.kt)(i.Z,{data:"monetization-src.json",mdxType:"BrowserCompat"},"Web Monetization API"))}f.isMDXComponent=!0},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);